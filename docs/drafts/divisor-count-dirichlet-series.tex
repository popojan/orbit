\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{geometry}
\geometry{margin=2.5cm}
\usepackage[hidelinks]{hyperref}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

\title{Dirichlet Series for Ordered Divisor Pairs}
\author{Jan Popelka\thanks{Email: popojan@protonmail.com}}
\date{}

\begin{document}

\maketitle

\begin{abstract}
We derive a closed form for the Dirichlet series of the function counting
ordered divisor pairs. For $P(n) = \lfloor\tau(n)/2\rfloor$, which counts
divisor pairs $(d, n/d)$ with $d < n/d$, the Dirichlet series admits the
elegant closed form $L_P(s) = \frac{\zeta(s)^2 - \zeta(2s)}{2}$ for $s > 1$.
\end{abstract}

\section{Ordered Divisor Pairs}

\begin{definition}
For $n \geq 1$, define
\[
P(n) = \#\{d \in \mathbb{Z} : d \mid n, \, 1 \leq d < \sqrt{n}\}
\]
the count of divisors strictly below $\sqrt{n}$.
\end{definition}

This counts \emph{ordered divisor pairs}: factorizations $n = d \cdot e$ with $d < e$.

\begin{proposition}[Closed Form]
For $n \geq 1$, $P(n) = \lfloor \tau(n)/2 \rfloor$ where $\tau(n)$ is the divisor function.
\end{proposition}

\begin{proof}
Divisors pair as $(d, n/d)$ with $d \cdot (n/d) = n$. Exactly half satisfy $d < n/d$,
i.e., $d < \sqrt{n}$. For perfect squares, $d = \sqrt{n}$ pairs with itself and is
excluded by the strict inequality. The floor handles both cases.
\end{proof}

\begin{remark}[Non-multiplicativity]
$P(n)$ is not multiplicative: $P(6) = 2$ but $P(2) \cdot P(3) = 1$.
\end{remark}

\section{The Dirichlet Series}

\begin{theorem}[Main Result]
For $s > 1$,
\[
L_P(s) = \sum_{n=1}^{\infty} \frac{P(n)}{n^s} = \frac{\zeta(s)^2 - \zeta(2s)}{2}.
\]
\end{theorem}

\begin{proof}
Since $P(n) = \lfloor \tau(n)/2 \rfloor$ and $\tau(n)$ is odd iff $n$ is a perfect square:
\[
P(n) = \frac{\tau(n)}{2} - \frac{1}{2}\mathbf{1}_{n \text{ is square}}.
\]
Therefore
\[
L_P(s) = \frac{1}{2}\sum_{n=1}^{\infty} \frac{\tau(n)}{n^s}
       - \frac{1}{2}\sum_{k=1}^{\infty} \frac{1}{k^{2s}}
       = \frac{\zeta(s)^2 - \zeta(2s)}{2}. \qedhere
\]
\end{proof}

\begin{corollary}[Special Values]
$L_P(2) = \dfrac{\pi^4 - 90}{180} = \dfrac{\pi^2(\pi^2-9)}{180}$, \quad
$L_P(3) = \dfrac{\zeta(3)^2 - \zeta(6)}{2}$.
\end{corollary}

\section{Variants}

\begin{remark}[Non-trivial Divisor Pairs]\label{rem:M}
If we exclude the trivial pair $(1, n)$ and count $M(n) = \#\{d : 2 \leq d \leq \sqrt{n}, d \mid n\}$,
then $M(n) = \lfloor(\tau(n)-1)/2\rfloor$ and
\[
L_M(s) = \frac{\zeta(s)^2 + \zeta(2s)}{2} - \zeta(s).
\]
The relationship is $L_P(s) - L_M(s) = \zeta(s) - \zeta(2s)$, accounting for:
\begin{itemize}
\item Adding the pair $(1, n)$ contributes $+\zeta(s)$
\item Changing $d \leq \sqrt{n}$ to $d < \sqrt{n}$ for squares contributes $-\zeta(2s)$
\end{itemize}
\end{remark}

\begin{remark}[Hadamard Product Representation]
The closed form $L_P(s) = \frac{\zeta(s)^2 - \zeta(2s)}{2}$ admits interpretation
via Hadamard products over the nontrivial zeros $\rho$ of $\zeta$.
Using the identity $(1-s/\rho)^2 = (1-2s/\rho) + s^2/\rho^2$, one obtains
\[
\prod_\rho (1-s/\rho)^2 = \prod_\rho (1-2s/\rho) \cdot C(s),
\]
where $C(s) = \prod_\rho \left(1 + \frac{s^2}{\rho(\rho-2s)}\right)$
is an absolutely convergent product (terms decay as $O(|\rho|^{-2})$).
This reveals how the structure of $L_P(s)$ relates to products over zeta zeros,
though it does not simplify computation.
\end{remark}

\begin{remark}[Epsilon-Pole Formulation]
The variant $M(n)$ from Remark~\ref{rem:M} also appears as a residue. Define for $\alpha > 1/2$:
\[
F_n(\alpha, \varepsilon) = \sum_{d=2}^{\infty} \sum_{k=0}^{\infty}
\left[(n - kd - d^2)^2 + \varepsilon\right]^{-\alpha}.
\]
The sum has poles at $n = d(k+d)$ with $d \geq 2$ and $k \geq 0$, i.e., at divisor pairs
$(d, n/d)$ with $2 \leq d \leq n/d$. Thus $\lim_{\varepsilon \to 0^+} \varepsilon^\alpha F_n(\alpha, \varepsilon) = M(n)$.
This provides an ``analytic'' primality criterion ($n$ prime iff $M(n) = 0$),
though not a practical one.
\end{remark}

\section{Relations at Special Points}

For $s_n = 1/(2^n+1)$, we have $2^n s_n = 1 - s_n$, so the functional equation
$\zeta(1-s) = f(s)\zeta(s)$ where $f(s) = 2^{1-s}\pi^{-s}\cos(\pi s/2)\Gamma(s)$
relates $\zeta(2^n s_n)$ to $\zeta(s_n)$.

Combined with the $L_P$ identity, this yields polynomial relations among
$\zeta(s_n), \zeta(2s_n), \ldots, \zeta(2^{n-1}s_n)$:
\begin{align*}
\zeta(2^k s_n)^2 - \zeta(2^{k+1} s_n) &= 2L_P(2^k s_n), \quad k = 0, \ldots, n-2, \\
\zeta(2^{n-1} s_n)^2 - f(s_n)\zeta(s_n) &= 2L_P(2^{n-1} s_n).
\end{align*}

\begin{remark}[Convergence Constraint]
The Dirichlet series $L_P(s) = \sum_{n=1}^{\infty} P(n)/n^s$ converges only for
$\Re(s) > 1$. For the special points $s_n = 1/(2^n+1) < 1$, the values $L_P(2^k s_n)$
require analytic continuation, which itself depends on $\zeta$ values via
$L_P(s) = \frac{\zeta(s)^2 - \zeta(2s)}{2}$. Thus these relations do not provide
an independent method for computing $\zeta(s_n)$.
\end{remark}

\section{Combinatorial Structure of Iterated Squaring}

The recurrence $C_{n+1} = C_n^2 - 2L_n$ with $C_1 = -2L_0$ generates polynomials
in $L_0, L_1, \ldots$ with interesting combinatorial structure.
The constant term $C_n$ satisfies
\[
C_1 = -2L_0, \qquad C_{n+1} = C_n^2 - 2L_n,
\]
where $L_k = L_P(2^k s_n)$. This recurrence mirrors the forward chain for $\zeta$ values.

\begin{theorem}[Bijection with Binary Partitions]
The constant term $C_n$ is a polynomial in $L_0, L_1, \ldots, L_{n-1}$ whose monomials
are in bijection with partitions of $2^{n-1}$ into powers of $2$: the monomial
$L_0^{a_0} L_1^{a_1} \cdots L_{n-1}^{a_{n-1}}$ corresponds to the partition with
$a_k$ parts of size $2^k$. The number of such monomials is sequence A002577~\cite{oeis}.
\end{theorem}

\begin{theorem}[Closed Form for Coefficients]\label{thm:coef}
For $\alpha = (a_0, \ldots, a_{n-1})$ with $\sum_k a_k \cdot 2^k = 2^{n-1}$,
define the \emph{remaining capacity} $r_k = 2^{n-1} - \sum_{j=k}^{n-1} a_j \cdot 2^j$.
Then the coefficient of $L_0^{a_0} \cdots L_{n-1}^{a_{n-1}}$ in $C_n$ is
\[
\mathrm{coef}_L(\alpha) = (-1)^{|\alpha|} \cdot 2^{|\alpha|} \cdot \prod_{k=1}^{n-1} \binom{r_k/2^k}{a_k},
\]
where $|\alpha| = \sum_k a_k$ is the total degree.
\end{theorem}

\begin{proof}
The substitution $x_k = -2L_k$ transforms the recurrence to $D_{n+1} = D_n^2 + x_n$
with $D_1 = x_0$. The $x$-coefficient $\mathrm{coef}_x(\alpha) = \prod_{k=1}^{n-1} \binom{r_k/2^k}{a_k}$
counts ways to assign $a_k$ blocks of size $2^k$ to the $r_k/2^k$ available slots
at level $k$ in a binary tree of depth $n-1$. The factor $(-2)^{|\alpha|}$ arises
from the substitution.
\end{proof}

\begin{corollary}
The first few constant terms are:
\begin{align*}
C_1 &= -2L_0, \\
C_2 &= 4L_0^2 - 2L_1, \\
C_3 &= 16L_0^4 - 16L_0^2 L_1 + 4L_1^2 - 2L_2.
\end{align*}
\end{corollary}

\begin{thebibliography}{9}
\bibitem{apostol}
T.\,M.~Apostol,
\emph{Introduction to Analytic Number Theory},
Springer, 1976.

\bibitem{oeis}
OEIS Foundation Inc.,
\emph{The On-Line Encyclopedia of Integer Sequences},
\url{https://oeis.org/A002577}, 2024.
\end{thebibliography}

\end{document}
